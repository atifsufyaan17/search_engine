<html>

<head>
    <meta charset="utf-8" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <!-- Load icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <!-- AngularJS library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div ng-view></div>
    <nav class="navbar navbar-light " style="font-size: 20px; font-family: sans-serif; background-color: whitesmoke;">
        <img src="https://global.weathernews.com/wp-content/themes/custom-thema/images/common/logo.svg" width="100"
            height="50" class="d-inline-block align-top" alt="">
        Weather Report Data Search Engine
    </nav>

    <div ng-app="myApp" ng-controller="myCtrl" class="container mx-auto m-4 p-4">
        <div class="Top">
            <form>
                <!-- <label style="font-size:30%" for="fromTime">From</label> -->
                <input style="font-size:30%" class='form-control' type="datetime-local" ng-model="fromTime"
                    id="fromTime" name="fromTime">
                <!-- <label style="font-size:30%" for="to">To</label> -->
                <input style="font-size:30%" class='form-control' type="datetime-local" ng-model="toTime" id="toTime"
                    name="toTime">
            </form>

            <div class="main">
                <div class="row">
                    <div class="col-md-12 col-md-offset-3">
                        <form action="" class="search-form">
                            <div class="form-group has-feedback">
                                <span class="fa fa-search form-control-feedback"></span>
                                <input type="text" ng-model="query" name="query" id="query" class="form-control"
                                    placeholder="Search">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <button value="Send" ng-click="search('1')" class="btn btn-primary mb-2">Submit</button>
        </div>


        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <div class="Container1">
                        <div class="Middle">

                            <div ng-show="showMe">
                                <ul class="pagination justify-content-center" style="margin:20px 0">
                                    <li class="page-item"><button class="page-link"
                                            ng-click="prevPage()">&laquo;</button></li>
                                    <li class="page-item active"><button class="page-link"
                                            ng-click="search('1')">{{page1}}</button></li>
                                    <li class="page-item"><button class="page-link"
                                            ng-click="search('2')">{{page2}}</button></li>
                                    <li class="page-item"><button class="page-link"
                                            ng-click="search('3')">{{page3}}</button></li>
                                    <li class="page-item"><button class="page-link" ng-click="nextPage()">&raquo;</button>
                                    </li>
                                </ul>
                            </div>

                            <div class="row">
                                <div class="col-md-4" ng-repeat="result in results">
                                    <div class="card">
                                        <div class="card-header text-center">
                                            <a class="ex3" ng-click="details(result)" href="#">
                                                {{ result._id + ', ' + result._source.area }}
                                            </a>
                                        </div>
                                        <div class="card-body text-center">
                                            <p class="card-text">Location:{{ result._source.location }}, Date-Time:
                                                {{ result._source.date_time }}.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="Container1">
                        <div class="Middle">
                            <div ng-show="showMe">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Key</th>
                                            <th>Value</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>ID</td>
                                            <td>{{detailed_info._id}}</td>
                                        </tr>
                                        <tr>
                                            <td>Title</td>
                                            <td>{{detailed_info._source.title}}</td>
                                        </tr>
                                        <tr>
                                            <td>Date Time</td>
                                            <td>{{detailed_info._source.date_time}}</td>
                                        </tr>
                                        <tr>
                                            <td>Weather</td>
                                            <td>{{dict[detailed_info._source.wx_cond]}}</td>
                                        </tr>
                                        <tr>
                                            <td>Area</td>
                                            <td>{{detailed_info._source.area}}</td>
                                        </tr>
                                        <tr>
                                            <td>Location</td>
                                            <td>{{detailed_info._source.location}}</td>
                                        </tr>
                                        <tr>
                                            <td>City Code</td>
                                            <td>{{detailed_info._source.city}}</td>
                                        </tr>
                                        <tr>
                                            <td>City Name</td>
                                            <td>{{detailed_info._source.city_name}}</td>
                                        </tr>
                                        <tr>
                                            <td>Longitude</td>
                                            <td>{{detailed_info._source.lonlat[0]}}</td>
                                        </tr>
                                        <tr>
                                            <td>Latitude</td>
                                            <td>{{detailed_info._source.lonlat[1]}}</td>
                                        </tr>
                                        <tr>
                                            <td>Comment</td>
                                            <td>{{detailed_info._source.comment}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="script.js"></script>
</body>

</html>